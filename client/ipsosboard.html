<head>
  <title>IPSOS</title>
  <meta charset="utf-8">
</head>

<body>
  <div class="container-fluid">
    <div class="row rowmt">
      <div class="col-lg-3">
	<h2>Interactive Physics Sonification System</h2>
      </div>
      <div class="col-md-3">
	<img src="images/BEER-logo.jpg" alt="beer logo" width="80" height="100">
      </div>
    </div>
    {{> ipsosboard}}
  </div>
</body>

<template name="ipsosboard">

  <div class="row rowmt">
    <div class="col-md-3">
      <select class="form-control" id="event-select">
        {{ #each event in allEvents }}
        <option value="{{ event.name }}">Load data for event #{{ event.name }}</option>
        {{ /each }}
      </select>
    </div>
    <div class="col-md-3">
      <p>Event number : {{ getEventNumber }}</p>
      <p>Event date : {{ getEventData }}</p>
    </div>
  </div> <!-- End of row 1 -->

  <div class="row rowmt">
    <div class="col-md-2">
      <button type="button" class="play btn btn-warning btn-lg">play</button>
      <button class="stop btn btn-warning btn-lg">stop</button>
      <button class="store btn btn-warning btn-lg">store</button>
    </div>
    <div class="col-md-3">
      <div class="radio">
	<label for="chord"><input type="radio" name="chordOrSeq" id="chord" checked="" data-type="chordbutton"> chord</label>
      </div>
      <div class="radio">
	<label for="sequence"><input type="radio" name="chordOrSeq" id="sequence" data-type="chordbutton"> sequence</label>
      </div>
    </div>
  </div> <!-- End of row 2 -->

  <div class="row rowmt">
    
    <div class="col-md-5">
      <table class="table table-bordered table-striped" id="matrix-table">
	<thead class="thead-light">
          <tr>
            <th> </th>
            {{ #each field in listParams }}
            <th class="text-center">{{ field }}</th>
            {{ /each }}
          </tr>
	</thead>
	<tbody>
          {{#each dataSet in getSonificationData}} <!-- datasets are collections of muons, jets, etc.-->
          {{#each element in dataSet.data}} <!-- element is *individual* muon or jet, etc.-->
          {{ #let
          indexElement=@index
          }}
          <tr><th colspan="1" class="table-warning">{{dataSet.type}}-{{incremented indexElement}}</th></tr><!-- add one to index for humans -->
          {{#each pair in (getAllFields element)}} <!-- type dependant key-value pairs, e.g. "phi":1.29274 -->
          <tr>
            <td><b>{{ pair.label }}</b><br />{{ pair.value }}</td>
            {{ #each field in listParams }}
            <td class="text-center">
              <input type="radio" name="{{ field }}-{{ indexElement }}" class="{{ field }}" value="{{ pair.value }}" checked=""
		     id="{{dataSet.type}}-{{ pair.label }}-{{ field }}-{{ indexElement }}" data-type="matrixbutton" data-physicsparam="{{ pair.label }}" data-field="{{ field }}" data-element="{{dataSet.type}}-{{ indexElement }}" />
            </td>
            {{ /each }}
          </tr>
          {{/each}}
          {{/let }}
          {{/each}}
          {{/each}}

	</tbody>

      </table>
     
    </div> <!-- End of column 1 -->

    <div class="col-md-5">

      <div class="row">
	<table class="table table-bordered table-striped" id="ranges-table">
	  <tbody>
	    <tr>
	      <th colspan="1" class="table-warning">
		Mapping<br />Ranges
	      </th>
	    </tr>
	    <tr>
              <th> </th>
              <td><div id="attack"></div></td>
              <td><div id="decay"></div></td>
              <td><div id="sustain"></div></td>
              <td><div id="release"></div></td>
              <td><div id="detune"></div></td>
              <td><div id="midinote"></div></td>
              <td><div id="duration"></div></td>
            </tr>
	  </tbody>
	  <thead class="thead-light">
            <tr>
              <th> </th>
              {{ #each field in listParams }}
              <th>{{ field }}</th>
              {{ /each }}
            </tr>
	  </thead>
	</table>
      </div>
      
      <div class="row">
	<table class="table table-bordered" id="playback-table">
          <tbody>
            <tr>
	      <td class="text-center"><button type="button" class="btn btn-warning btn-lg" id="cell1" data-type="playbutton" data-playind="0">1</button></td>
	      <td class="text-center"><button type="button" class="btn btn-warning btn-lg" id="cell2" data-type="playbutton" data-playind="1">2</button></td>
	      <td class="text-center"><button type="button" class="btn btn-warning btn-lg" id="cell3" data-type="playbutton" data-playind="2">3</button></td>
            </tr>
            <tr>
	      <td class="text-center"><button type="button" class="btn btn-warning btn-lg" id="cell4" data-type="playbutton" data-playind="3">4</button></td>
	      <td class="text-center"><button type="button" class="btn btn-warning btn-lg" id="cell5" data-type="playbutton" data-playind="4">5</button></td>
	      <td class="text-center"><button type="button" class="btn btn-warning btn-lg" id="cell6" data-type="playbutton" data-playind="5">6</button></td>
            </tr>
            <tr>
	      <td class="text-center"><button type="button" class="btn btn-warning btn-lg" id="cell7" data-type="playbutton" data-playind="6">7</button></td>
	      <td class="text-center"><button type="button" class="btn btn-warning btn-lg" id="cell8" data-type="playbutton" data-playind="7">8</button></td>
	      <td class="text-center"><button type="button" class="btn btn-warning btn-lg" id="cell9" data-type="playbutton" data-playind="8">9</button></td>
            </tr>
          </tbody>
	</table>
      </div>
    
    </div> <!-- End of column 2 -->    
    
  </div> <!-- End of row 3 -->


</template>
